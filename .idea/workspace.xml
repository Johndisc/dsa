<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CMakeRunConfigurationManager" shouldGenerate="true" shouldDeleteObsolete="true">
    <generated>
      <config projectName="zsim" targetName="zsim" />
    </generated>
  </component>
  <component name="CMakeSettings" AUTO_RELOAD="true">
    <configurations>
      <configuration PROFILE_NAME="Debug" ENABLED="true" CONFIG_NAME="Debug" />
    </configurations>
  </component>
  <component name="ChangeListManager">
    <list default="true" id="d902cc43-b271-42ba-a072-33d00fa1ed8b" name="Changes" comment="10.28 lab&#10;现已能正确在多线程情况下并行遍历并获得正确结果。&#10;1.解决多线程死锁问题。原因在于VA.h的configure中将memcpy和xchg指令用unlock分开了，但它们是不可分开的原子操作。&#10;2.解决遍历结果错误的问题。原因在于VA.h的fetch中将xchg和memcpy分开了，原因同上。">
      <change afterPath="$PROJECT_DIR$/src/HATS/Edge.h" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/CMakeLists.txt" beforeDir="false" afterPath="$PROJECT_DIR$/CMakeLists.txt" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/README.md" beforeDir="false" afterPath="$PROJECT_DIR$/README.md" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/build/opt/HATS/VA.h" beforeDir="false" afterPath="$PROJECT_DIR$/build/opt/HATS/VA.h" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/cmake-build-debug/CMakeFiles/zsim.dir/depend.make" beforeDir="false" afterPath="$PROJECT_DIR$/cmake-build-debug/CMakeFiles/zsim.dir/depend.make" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/cmake-build-debug/Testing/Temporary/LastTest.log" beforeDir="false" afterPath="$PROJECT_DIR$/cmake-build-debug/Testing/Temporary/LastTest.log" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/cmake-build-debug/zsim.cbp" beforeDir="false" afterPath="$PROJECT_DIR$/cmake-build-debug/zsim.cbp" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/cpp_test/test.cpp" beforeDir="false" afterPath="$PROJECT_DIR$/cpp_test/test.cpp" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/src/HATS/BDFS.h" beforeDir="false" afterPath="$PROJECT_DIR$/src/HATS/BDFS.h" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/src/HATS/VO.h" beforeDir="false" afterPath="$PROJECT_DIR$/src/HATS/VO.h" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/src/init.h" beforeDir="false" afterPath="$PROJECT_DIR$/src/init.h" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/src/zsim.cpp" beforeDir="false" afterPath="$PROJECT_DIR$/src/zsim.cpp" afterDir="false" />
    </list>
    <option name="SHOW_DIALOG" value="false" />
    <option name="HIGHLIGHT_CONFLICTS" value="true" />
    <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
    <option name="LAST_RESOLUTION" value="IGNORE" />
  </component>
  <component name="ClangdSettings">
    <option name="formatViaClangd" value="false" />
  </component>
  <component name="ExecutionTargetManager" SELECTED_TARGET="CMakeBuildProfile:Debug" />
  <component name="Git.Settings">
    <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
    <option name="RESET_MODE" value="HARD" />
  </component>
  <component name="ProjectId" id="1ylJKook2wfQzysXNSEUEqPOueU" />
  <component name="ProjectLevelVcsManager">
    <ConfirmationsSetting value="2" id="Add" />
  </component>
  <component name="ProjectViewState">
    <option name="hideEmptyMiddlePackages" value="true" />
    <option name="showLibraryContents" value="true" />
  </component>
  <component name="PropertiesComponent">
    <property name="ASKED_ADD_EXTERNAL_FILES" value="true" />
    <property name="RunOnceActivity.OpenProjectViewOnStart" value="true" />
    <property name="RunOnceActivity.ShowReadmeOnStart" value="true" />
    <property name="RunOnceActivity.cidr.known.project.marker" value="true" />
    <property name="WebServerToolWindowFactoryState" value="true" />
    <property name="cf.first.check.clang-format" value="false" />
    <property name="cidr.known.project.marker" value="true" />
    <property name="cmake.loaded.for.project" value="true" />
    <property name="last_opened_file_path" value="$PROJECT_DIR$/../grasp" />
    <property name="nodejs_package_manager_path" value="npm" />
    <property name="settings.editor.selected.configurable" value="CMakeSettings" />
  </component>
  <component name="RecentsManager">
    <key name="MoveFile.RECENT_KEYS">
      <recent name="D:\code\zsim\cpp_test" />
      <recent name="D:\code\zsim\src" />
    </key>
  </component>
  <component name="RunManager">
    <configuration default="true" type="CMakeRunConfiguration" factoryName="Application" REDIRECT_INPUT="false" ELEVATE="false" USE_EXTERNAL_CONSOLE="false" PASS_PARENT_ENVS_2="true">
      <method v="2">
        <option name="com.jetbrains.cidr.execution.CidrBuildBeforeRunTaskProvider$BuildBeforeRunTask" enabled="true" />
      </method>
    </configuration>
    <configuration name="zsim" type="CMakeRunConfiguration" factoryName="Application" REDIRECT_INPUT="false" ELEVATE="false" USE_EXTERNAL_CONSOLE="false" PASS_PARENT_ENVS_2="true" PROJECT_NAME="zsim" TARGET_NAME="zsim" CONFIG_NAME="Debug" RUN_TARGET_PROJECT_NAME="zsim" RUN_TARGET_NAME="zsim">
      <method v="2">
        <option name="com.jetbrains.cidr.execution.CidrBuildBeforeRunTaskProvider$BuildBeforeRunTask" enabled="true" />
      </method>
    </configuration>
    <configuration default="true" type="GradleAppRunConfiguration" factoryName="Application" REDIRECT_INPUT="false" ELEVATE="false" USE_EXTERNAL_CONSOLE="false" PASS_PARENT_ENVS_2="true">
      <method v="2">
        <option name="com.jetbrains.cidr.cpp.gradle.execution.GradleNativeBuildBeforeRunTaskProvider$BuildBeforeRunTask" enabled="true" />
      </method>
    </configuration>
    <configuration default="true" type="NimRunConfiguration" factoryName="Application" REDIRECT_INPUT="false" ELEVATE="false" USE_EXTERNAL_CONSOLE="false" PASS_PARENT_ENVS_2="true">
      <method v="2">
        <option name="nim.task.build.to.cache" enabled="true" />
      </method>
    </configuration>
  </component>
  <component name="SpellCheckerSettings" RuntimeDictionaries="0" Folders="0" CustomDictionaries="0" DefaultDictionary="application-level" UseSingleDictionary="true" transferred="true" />
  <component name="TaskManager">
    <task active="true" id="Default" summary="Default task">
      <changelist id="d902cc43-b271-42ba-a072-33d00fa1ed8b" name="Changes" comment="" />
      <created>1632820180205</created>
      <option name="number" value="Default" />
      <option name="presentableId" value="Default" />
      <updated>1632820180205</updated>
      <workItem from="1632820181749" duration="9805000" />
      <workItem from="1633653055168" duration="30950000" />
      <workItem from="1634259194621" duration="76434000" />
      <workItem from="1634895210644" duration="962000" />
      <workItem from="1634896249835" duration="296000" />
      <workItem from="1635147789716" duration="30652000" />
    </task>
    <task id="LOCAL-00001" summary="10.8 lab">
      <created>1633686246212</created>
      <option name="number" value="00001" />
      <option name="presentableId" value="LOCAL-00001" />
      <option name="project" value="LOCAL" />
      <updated>1633686246212</updated>
    </task>
    <task id="LOCAL-00002" summary="10.15 lab">
      <created>1634295138644</created>
      <option name="number" value="00002" />
      <option name="presentableId" value="LOCAL-00002" />
      <option name="project" value="LOCAL" />
      <updated>1634295138644</updated>
    </task>
    <task id="LOCAL-00003" summary="10.22 lab &#10;尝试静态变量传参失败，VA.h和test.cpp回滚。&#10;zsim.cpp中定义了tid到VA的unordered map，定义了configure和fetch的指令映射。">
      <created>1634874547688</created>
      <option name="number" value="00003" />
      <option name="presentableId" value="LOCAL-00003" />
      <option name="project" value="LOCAL" />
      <updated>1634874547688</updated>
    </task>
    <task id="LOCAL-00004" summary="10.22 lab &#10;1.尝试静态变量传参失败，VA.h和test.cpp回滚。&#10;2.将gmutex.h中的mutex类更名为gmutex。&#10;3.在zsim.cpp中定义了tid到VA的unordered map，定义了configure和fetch的指令函数映射。">
      <created>1634874679682</created>
      <option name="number" value="00004" />
      <option name="presentableId" value="LOCAL-00004" />
      <option name="project" value="LOCAL" />
      <updated>1634874679682</updated>
    </task>
    <task id="LOCAL-00005" summary="10.25 lab&#10;1.删除shared_memory.cpp，集成到代码中&#10;2.解决数据传输bug，现已完成两个程序之间的数据传输&#10;3.还有一个问题是两个进程之间相同key的共享内存地址是不同的，目前仅知道相差0x3000，通过直接相加的方式弥补，尚待解决">
      <created>1635134422036</created>
      <option name="number" value="00005" />
      <option name="presentableId" value="LOCAL-00005" />
      <option name="project" value="LOCAL" />
      <updated>1635134422036</updated>
    </task>
    <task id="LOCAL-00006" summary="10.25 lab&#10;1.解决两个进程之间共享内存地址位置不对的问题，原因在于没有在使用共享内存后断开连接。加上shmdt(addr)之后解决。">
      <created>1635152412572</created>
      <option name="number" value="00006" />
      <option name="presentableId" value="LOCAL-00006" />
      <option name="project" value="LOCAL" />
      <updated>1635152412572</updated>
    </task>
    <task id="LOCAL-00007" summary="10.26 lab&#10;1.解决HATS线程调用问题。thread类不行，pthread可以。现已跑通VA遍历方式。">
      <created>1635214790888</created>
      <option name="number" value="00007" />
      <option name="presentableId" value="LOCAL-00007" />
      <option name="project" value="LOCAL" />
      <updated>1635214790888</updated>
    </task>
    <task id="LOCAL-00008" summary="10.26 lab&#10;1.解决HATS线程调用问题。thread类不行，pthread可以。现已跑通VA遍历方式。">
      <created>1635230774615</created>
      <option name="number" value="00008" />
      <option name="presentableId" value="LOCAL-00008" />
      <option name="project" value="LOCAL" />
      <updated>1635230774615</updated>
    </task>
    <task id="LOCAL-00009" summary="10.28 lab&#10;1.解决在以线程调用情况下无法进行遍历，产生signal 11错误的问题。原因在于zsim.cpp中遍历线程函数参数为tid，换成VA*就好了&#10;2.在少数线程并行时已能完成遍历，多数线程时会出现死锁(？)情况">
      <created>1635387904563</created>
      <option name="number" value="00009" />
      <option name="presentableId" value="LOCAL-00009" />
      <option name="project" value="LOCAL" />
      <updated>1635387904563</updated>
    </task>
    <task id="LOCAL-00010" summary="10.28 lab&#10;现已能正确在多线程情况下并行遍历并获得正确结果。&#10;1.解决多线程死锁问题。原因在于VA.h的configure中将memcpy和xchg指令用unlock分开了，但它们是不可分开的原子操作。&#10;2.解决遍历结果错误的问题。原因在于VA.h的fetch中将xchg和memcpy分开了，原因同上。">
      <created>1635389860862</created>
      <option name="number" value="00010" />
      <option name="presentableId" value="LOCAL-00010" />
      <option name="project" value="LOCAL" />
      <updated>1635389860862</updated>
    </task>
    <task id="LOCAL-00011" summary="10.28 lab&#10;现已能正确在多线程情况下并行遍历并获得正确结果。&#10;1.解决多线程死锁问题。原因在于VA.h的configure中将memcpy和xchg指令用unlock分开了，但它们是不可分开的原子操作。&#10;2.解决遍历结果错误的问题。原因在于VA.h的fetch中将xchg和memcpy分开了，原因同上。">
      <created>1635391003053</created>
      <option name="number" value="00011" />
      <option name="presentableId" value="LOCAL-00011" />
      <option name="project" value="LOCAL" />
      <updated>1635391003053</updated>
    </task>
    <option name="localTasksCounter" value="12" />
    <servers />
  </component>
  <component name="TypeScriptGeneratedFilesManager">
    <option name="version" value="3" />
  </component>
  <component name="Vcs.Log.History.Properties">
    <option name="COLUMN_ID_ORDER">
      <list>
        <option value="Default.Root" />
        <option value="Default.Author" />
        <option value="Default.Date" />
        <option value="Default.Subject" />
      </list>
    </option>
  </component>
  <component name="Vcs.Log.Tabs.Properties">
    <option name="TAB_STATES">
      <map>
        <entry key="584568fb-bd83-42fb-9468-de0e43cccde8">
          <value>
            <State>
              <option name="SHOW_ONLY_AFFECTED_CHANGES" value="true" />
              <option name="FILTERS">
                <map>
                  <entry key="branch">
                    <value>
                      <list>
                        <option value="HEAD" />
                      </list>
                    </value>
                  </entry>
                  <entry key="structure">
                    <value>
                      <list>
                        <option value="dir:D:/codes/myZsim/src/HATS" />
                      </list>
                    </value>
                  </entry>
                </map>
              </option>
            </State>
          </value>
        </entry>
        <entry key="MAIN">
          <value>
            <State />
          </value>
        </entry>
      </map>
    </option>
    <option name="OPEN_GENERIC_TABS">
      <map>
        <entry key="584568fb-bd83-42fb-9468-de0e43cccde8" value="TOOL_WINDOW" />
      </map>
    </option>
    <option name="oldMeFiltersMigrated" value="true" />
  </component>
  <component name="VcsManagerConfiguration">
    <option name="ADD_EXTERNAL_FILES_SILENTLY" value="true" />
    <MESSAGE value="10.8 lab" />
    <MESSAGE value="10.15 lab" />
    <MESSAGE value="10.22 lab &#10;尝试静态变量传参失败，VA.h和test.cpp回滚。&#10;zsim.cpp中定义了tid到VA的unordered map，定义了configure和fetch的指令映射。" />
    <MESSAGE value="10.22 lab &#10;1.尝试静态变量传参失败，VA.h和test.cpp回滚。&#10;2.将gmutex.h中的mutex类更名为gmutex。&#10;3.在zsim.cpp中定义了tid到VA的unordered map，定义了configure和fetch的指令函数映射。" />
    <MESSAGE value="10.25 lab&#10;1.删除shared_memory.cpp，集成到代码中&#10;2.解决数据传输bug，现已完成两个程序之间的数据传输&#10;3.还有一个问题是两个进程之间相同key的共享内存地址是不同的，目前仅知道相差0x3000，通过直接相加的方式弥补，尚待解决" />
    <MESSAGE value="10.25 lab&#10;1.解决两个进程之间共享内存地址位置不对的问题，原因在于没有在使用共享内存后断开连接。加上shmdt(addr)之后解决。" />
    <MESSAGE value="10.26 lab&#10;1.解决HATS线程调用问题。thread类不行，pthread可以。现已跑通VA遍历方式。" />
    <MESSAGE value="10.28 lab&#10;1.解决在以线程调用情况下无法进行遍历，产生signal 11错误的问题。原因在于zsim.cpp中遍历线程函数参数为tid，换成VA*就好了&#10;2.在少数线程并行时已能完成遍历，多数线程时会出现死锁(？)情况" />
    <MESSAGE value="10.28 lab&#10;现已能正确在多线程情况下并行遍历并获得正确结果。&#10;1.解决多线程死锁问题。原因在于VA.h的configure中将memcpy和xchg指令用unlock分开了，但它们是不可分开的原子操作。&#10;2.解决遍历结果错误的问题。原因在于VA.h的fetch中将xchg和memcpy分开了，原因同上。" />
    <option name="LAST_COMMIT_MESSAGE" value="10.28 lab&#10;现已能正确在多线程情况下并行遍历并获得正确结果。&#10;1.解决多线程死锁问题。原因在于VA.h的configure中将memcpy和xchg指令用unlock分开了，但它们是不可分开的原子操作。&#10;2.解决遍历结果错误的问题。原因在于VA.h的fetch中将xchg和memcpy分开了，原因同上。" />
  </component>
</project>